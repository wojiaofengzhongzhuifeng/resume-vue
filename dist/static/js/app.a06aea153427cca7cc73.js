webpackJsonp([1],{NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({name:"App"},s,!1,function(e){i("ymcE")},null,null).exports,a=i("/ocq"),o=i("mvHQ"),l=i.n(o),c=i("JnRc"),u=i.n(c),d={props:["informationDetail"],name:"editableSpan",data:function(){return{edit:!1}},methods:{changeEditOn:function(){this.edit=!0},changeEditOffAndListenInputValue:function(e){console.log(e),this.edit=!1;var t=e.target.parentNode.querySelector("input").value;t?this.$emit("typeInput",t):alert("请输入内容")},onPressEnter:function(e){"Enter"===e.code&&this.$refs.edit.click()}}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"editbleSpan"},[i("span",{staticClass:"show",on:{click:e.changeEditOn}},[e._v(e._s(e.informationDetail))]),e._v(" "),i("span",{staticClass:"input-button-ct"},[i("input",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],staticClass:"inputArea",on:{keypress:e.onPressEnter}}),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],ref:"edit",staticClass:"inputButton",attrs:{type:"primary"},on:{click:e.changeEditOffAndListenInputValue}},[e._v("编辑")])])])},staticRenderFns:[]};var p=i("VU/8")(d,m,!1,function(e){i("jOM7")},null,null).exports,f=i("KiQM"),v=i.n(f),h={name:"page",created:function(){this._initAV()},watch:{allUserHrInformationArr:function(){console.log("hr来信息啦")}},mounted:function(){var e=window.location.search.substring(window.location.search.indexOf("=")+1);this.previewUser.id=e;var t=new u.a.Query("User");e&&t.get(this.previewUser.id).then(function(e){var t=JSON.parse(e.attributes.information);this.information=t}.bind(this),function(e){})},computed:{previewModel:function(){return""===this.previewUser.id||""!==this.currentUser.id},showLogInUser:function(){return""!==this.currentUser.id}},data:function(){return{dialogFormVisible:!1,dialogFormVisibleRegister:!1,dialogVisible:!1,dialogMessage:!1,hrInformation:{email:"",message:""},logInUser:{email:"",password:""},resigterUser:{email:"",password:"",comfirmPassword:""},form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"100px",information:{name:"name",job:"job",birthday:"bir",gender:"gender",email:"email",phone:"phone",skills:[{name:"html",description:"还原静态页面"},{name:"css",description:"完成常见动画"},{name:"js",description:"熟悉常见的数据"},{name:"VUe",description:"熟练使用vue"}],works:[{name:"vue简历",url:"www.baidu.com",needSkills:"js, vue, jQuery",description:"我是怎么做这个项目的我是怎么做这个项目的我是怎么做这个项目的我是怎么做这个项目的我是怎么做这个项目的\n"}],avatarNumber:""},currentUser:{id:"",userName:""},ifShowShare:!1,shareUrl:"",previewUser:{id:"",userName:""},allUserHrInformation:[],allUserHrInformationArr:[]}},methods:{onClickCloseHrMessage:function(e){this.allUserHrInformationArr.splice(e,1)},registerComfirm:function(){document.querySelector("#asdfg").click()},logInEnter:function(e){document.querySelector("#asdf").click()},saveHrInformation:function(e){var t=this.previewUser.id,i=new(u.a.Object.extend("userAndHrContact"));i.set("userId",t),i.set("hrInformation",l()(this.hrInformation)),i.save().then(function(e){alert("成功向应聘者提交你的信息")},function(e){})},listenInput:function(e,t){if(""===this.currentUser.id&""!==this.previewUser)this.dialogFormVisible=!0;else for(var i="this.information."+t,n=this.information,s=i.split(".").slice(2),r=0;r<s.length;r++)r!==s.length-1?n=n[s[r]]:n[s[r]]=e},onclickSave:function(){if(this.currentUser.id){var e=u.a.User.current();this.currentUser.id=e.id;var t=u.a.Object.createWithoutData("User",this.currentUser.id),i=l()(this.information);t.set("information",i),t.save().then(function(){alert("保存成功")})}else this.dialogFormVisible=!0},onClickCloseSkill:function(e){this.information.skills.splice(e,1)},onClickCloseProject:function(e){this.information.works.splice(e,1)},onClickRegister:function(){this.dialogFormVisible=!1,this.dialogFormVisibleRegister=!0},onClicklogInComfirm:function(){var e=this.logInUser.email,t=this.logInUser.password;u.a.User.logIn(e,t).then(function(e){if(e.attributes.information){var t=JSON.parse(e.attributes.information);this.information=t,this.currentUser.id=e.id}else this.currentUser.id=e.id;var i=location.origin+"?user_id="+this.currentUser.id;this.shareUrl=i,this.dialogFormVisible=!1,this.createAvatar(this.currentUser.id);var n=this;new u.a.Query("userAndHrContact").find().then(function(e){for(var t={},i=0;i<e.length;i++){var s=e[i].attributes.userId,r=e[i].attributes.hrInformation;t[s]?t[s].push(r):(t[s]=[],t[s].push(r))}for(var a in t)a===n.currentUser.id&&(n.allUserHrInformation=t[a]);for(var o=[],l=0;l<n.allUserHrInformation.length;l++)o.push(JSON.parse(n.allUserHrInformation[l])),n.allUserHrInformationArr=o})}.bind(this),function(e){alert("账号或者密码错误")})},onClickPrint:function(){window.print()},onClickLogOut:function(){u.a.User.logOut(),this.currentUser.id="",this.information={name:"name",job:"job",birthday:"bir",gender:"gender",email:"email",phone:"phone",skills:[{name:"html",description:"还原静态页面"},{name:"css",description:"完成常见动画"},{name:"js",description:"熟悉常见的数据"},{name:"VUe",description:"熟练使用vue"}],works:[{name:"vue简历",url:"www.baidu.com",needSkills:"js, vue, jQuery",description:"我是怎么做这个项目的我是怎么做这个项目的我是怎么做这个项目的我是怎么做这个项目的我是怎么做这个项目的\n"}]},alert("you are already logOut")},addExtraSkill:function(){this.information.skills.push({name:"技能名称",description:"技能描述"})},addExtraWork:function(){this.information.works.push({name:"项目名称",url:"预览地址",needSkills:"项目需要技能",description:"项目描述\n"})},onClickResigterComfirm:function(){if(this.resigterUser.password!==this.resigterUser.comfirmPassword)alert("密码不一致"),this.resigterUser.password="",this.resigterUser.comfirmPassword="";else{var e=this.resigterUser.email,t=this.resigterUser.password,i=new u.a.User;i.setUsername(e),i.setPassword(t),i.signUp().then(function(e){this.dialogFormVisibleRegister=!1,this.dialogFormVisible=!0}.bind(this),function(e){})}},_initAV:function(){u.a.init({appId:"eqtNEtnaMt1BxxbMHdUKHQkR-gzGzoHsz",appKey:"e99EIvtO7RE41XNDgye1AdwE"})},createAvatar:function(e){var t=new v.a(e,50).toString(),i=document.createElement("div");i.innerHTML='<img width=50 height=50 src="data:image/png;base64,'+t+'">',null===this.$refs.imgCt.querySelector("div")&&this.$refs.imgCt.appendChild(i)}},components:{editableSpan:p}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"xxxxx",attrs:{id:"app"}},[i("aside",{directives:[{name:"show",rawName:"v-show",value:e.previewModel,expression:"previewModel"}]},[i("div",{staticClass:"userInformation"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showLogInUser,expression:"showLogInUser"}],ref:"imgCt",staticClass:"imgCt"}),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:e.showLogInUser,expression:"showLogInUser"}]},[e._v(e._s(e.logInUser.email))])]),e._v(" "),i("ul",[i("li",{staticClass:"save"},[i("el-button",{attrs:{type:"primary"},on:{click:e.onclickSave}},[e._v("保存")])],1),e._v(" "),i("li",{staticClass:"share"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.currentUser.id,expression:"currentUser.id"}],attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("分享")])],1),e._v(" "),i("li",{staticClass:"print"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.currentUser.id,expression:"currentUser.id"}],attrs:{type:"primary"},on:{click:e.onClickPrint}},[e._v("打印")])],1),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:this.currentUser.id,expression:"this.currentUser.id"}],staticClass:"message"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogMessage=!0}}},[e._v("消息")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:this.allUserHrInformationArr.length>0,expression:"this.allUserHrInformationArr.length > 0"}],staticClass:"number"},[e._v(e._s(this.allUserHrInformationArr.length))])],1)]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.currentUser.id,expression:"currentUser.id"}],attrs:{type:"danger"},on:{click:e.onClickLogOut}},[e._v("登出")])],1),e._v(" "),i("main",[i("div",{staticClass:"mainInformation"},[i("h1",[i("editableSpan",{attrs:{informationDetail:e.information.name},on:{typeInput:function(t){e.listenInput(t,"name")}}})],1),e._v(" "),i("p",[e._v("应聘职位: "),i("editableSpan",{attrs:{informationDetail:e.information.job},on:{typeInput:function(t){e.listenInput(t,"job")}}})],1),e._v(" "),i("p",[e._v("生日:"),i("editableSpan",{attrs:{informationDetail:e.information.birthday},on:{typeInput:function(t){e.listenInput(t,"birthday")}}}),e._v("\n        | 性别:"),i("editableSpan",{attrs:{informationDetail:e.information.gender},on:{typeInput:function(t){e.listenInput(t,"gender")}}}),e._v("\n        | 邮箱: "),i("editableSpan",{attrs:{informationDetail:e.information.email},on:{typeInput:function(t){e.listenInput(t,"email")}}}),e._v("\n        | 手机号码: "),i("editableSpan",{attrs:{informationDetail:e.information.phone},on:{typeInput:function(t){e.listenInput(t,"phone")}}})],1)]),e._v(" "),i("div",{staticClass:"skills"},[i("h2",[e._v("技能")]),e._v(" "),i("ul",e._l(e.information.skills,function(t,n){return i("li",{staticClass:"skill"},[i("div",{staticClass:"skill-h3-p-ct"},[i("i",{directives:[{name:"show",rawName:"v-show",value:e.previewModel,expression:"previewModel"}],staticClass:"el-icon-close",on:{click:function(t){e.onClickCloseSkill(n)}}}),e._v(" "),i("h3",{staticClass:"name"},[i("editableSpan",{attrs:{informationDetail:t.name},on:{typeInput:function(t){e.listenInput(t,"skills."+n+".name")}}})],1),e._v(" "),i("p",{staticClass:"description"},[i("editableSpan",{attrs:{informationDetail:t.description},on:{typeInput:function(t){e.listenInput(t,"skills."+n+".description")}}})],1)])])})),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.previewModel,expression:"previewModel"}],staticClass:"addSkills",on:{click:e.addExtraSkill}},[i("i",{staticClass:"el-icon-circle-plus"})])]),e._v(" "),i("div",{staticClass:"projects"},[i("h2",[e._v("项目经历")]),e._v(" "),e._l(e.information.works,function(t,n){return i("ul",[i("li",{staticClass:"project"},[i("i",{directives:[{name:"show",rawName:"v-show",value:e.previewModel,expression:"previewModel"}],staticClass:"el-icon-close projectLi",on:{click:function(t){e.onClickCloseProject(n)}}}),e._v(" "),i("h3",{staticClass:"projectName"},[i("editableSpan",{attrs:{informationDetail:t.name},on:{typeInput:function(t){e.listenInput(t,"works."+n+".name")}}})],1),e._v(" "),i("p",{staticClass:"link"},[i("editableSpan",{attrs:{informationDetail:t.url},on:{typeInput:function(t){e.listenInput(t,"works."+n+".url")}}})],1),e._v(" "),i("p",{staticClass:"keywords"},[i("editableSpan",{attrs:{informationDetail:t.needSkills},on:{typeInput:function(t){e.listenInput(t,"works."+n+".needSkills")}}})],1),e._v(" "),i("p",{staticClass:"description"},[i("editableSpan",{attrs:{informationDetail:t.description},on:{typeInput:function(t){e.listenInput(t,"works."+n+".description")}}})],1)])])})],2),e._v(" "),i("div",{staticClass:"addWork",on:{click:e.addExtraWork}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.previewModel,expression:"previewModel"}],staticClass:"addSkills"},[i("i",{staticClass:"el-icon-circle-plus"})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.previewModel,expression:"!previewModel"}],staticClass:"contact-ct"},[i("div",{staticClass:"contact"},[i("h4",[e._v("请联系我!")]),e._v(" "),i("p",[e._v("回车即可提交")]),e._v(" "),i("el-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.hrInformation.email,callback:function(t){e.$set(e.hrInformation,"email",t)},expression:"hrInformation.email"}}),e._v(" "),i("el-input",{attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.saveHrInformation(t):null}},model:{value:e.hrInformation.message,callback:function(t){e.$set(e.hrInformation,"message",t)},expression:"hrInformation.message"}})],1)])]),e._v(" "),i("el-dialog",{attrs:{title:"用户登录",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",[i("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.logInUser.email,callback:function(t){e.$set(e.logInUser,"email",t)},expression:"logInUser.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off",type:"password"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.logInEnter(t):null}},model:{value:e.logInUser.password,callback:function(t){e.$set(e.logInUser,"password",t)},expression:"logInUser.password"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"success"},on:{click:e.onClickRegister}},[e._v("注 册")]),e._v(" "),i("el-button",{staticClass:"cancel",on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{ref:"logInComfirm",attrs:{type:"primary",id:"asdf"},on:{click:e.onClicklogInComfirm}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"用户注册",visible:e.dialogFormVisibleRegister},on:{"update:visible":function(t){e.dialogFormVisibleRegister=t}}},[i("el-form",{attrs:{model:e.form}},[i("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.resigterUser.email,callback:function(t){e.$set(e.resigterUser,"email",t)},expression:"resigterUser.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[i("el-input",{ref:"registerPassword",attrs:{"auto-complete":"off",type:"password"},model:{value:e.resigterUser.password,callback:function(t){e.$set(e.resigterUser,"password",t)},expression:"resigterUser.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"确认密码","label-width":e.formLabelWidth}},[i("el-input",{ref:"registerPasswordComfirm",attrs:{"auto-complete":"off",type:"password"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.registerComfirm(t):null}},model:{value:e.resigterUser.comfirmPassword,callback:function(t){e.$set(e.resigterUser,"comfirmPassword",t)},expression:"resigterUser.comfirmPassword"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",id:"asdfg"},on:{click:e.onClickResigterComfirm}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{staticClass:"alertMessage",attrs:{title:"用户消息",visible:e.dialogMessage},on:{"update:visible":function(t){e.dialogMessage=t}}},[i("ul",e._l(e.allUserHrInformationArr,function(t,n){return i("li",{staticClass:"hrInformation"},[i("i",{staticClass:"el-icon-close xxxx",on:{click:function(t){e.onClickCloseHrMessage(n)}}}),e._v(" "),i("span",{staticClass:"hrEmail"},[e._v(e._s(t.email))]),e._v(" : "),i("span",[e._v(e._s(t.message))])])}))]),e._v(" "),i("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("p",[e._v("请将下面内容分享")]),e._v(" "),i("el-input",{model:{value:e.shareUrl,callback:function(t){e.shareUrl=t},expression:"shareUrl"}}),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var w=i("VU/8")(h,g,!1,function(e){i("fXI6")},"data-v-c30c7a26",null).exports;n.default.use(a.a);var b=new a.a({routes:[{path:"/",name:"page",component:w}]}),k=i("zL8q"),_=i.n(k);i("tvR6");n.default.use(_.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:b,components:{App:r},template:"<App/>",render:function(e){return e(r)}})},fXI6:function(e,t){},jOM7:function(e,t){},tvR6:function(e,t){},ymcE:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a06aea153427cca7cc73.js.map